<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock: Develop 2026 Sales Forecast</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 8px;
        }
        .owner {
            font-size: 16px;
            color: #666;
            margin-bottom: 24px;
        }
        h2 {
            font-size: 18px;
            margin-top: 32px;
            margin-bottom: 16px;
            color: #222;
        }
        h3 {
            font-size: 16px;
            margin-top: 24px;
            margin-bottom: 12px;
            color: #444;
        }
        ul {
            padding-left: 24px;
        }
        li {
            margin-bottom: 12px;
        }
        .milestone {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            padding: 8px 0;
        }
        .milestone-num {
            font-weight: 600;
            min-width: 24px;
            color: #007bff;
        }
        .milestone-text {
            flex: 1;
        }
        .date-picker {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            color: #333;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.2s;
        }
        .date-picker:hover {
            border-color: #007bff;
            background: #fff;
        }
        .date-picker:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
            background: #fff;
        }
        /* Style the date input */
        input[type="date"]::-webkit-calendar-picker-indicator {
            cursor: pointer;
            opacity: 0.6;
        }
        input[type="date"]::-webkit-calendar-picker-indicator:hover {
            opacity: 1;
        }
        .actions {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 12px;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.2s;
        }
        .btn-primary {
            background: #007bff;
            color: white;
        }
        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        .btn-secondary:hover {
            background: #545b62;
            transform: translateY(-1px);
        }
        .rock-dates {
            background: #f8f9fa;
            padding: 12px 16px;
            border-radius: 6px;
            margin-bottom: 24px;
            font-size: 14px;
            color: #666;
        }
        .rock-dates strong {
            color: #333;
        }
    </style>
</head>
<body>
    <h1>Develop 2026 Sales Forecast</h1>
    <p class="owner"><strong>Owner:</strong> <span id="owner-name">Rob Cima</span></p>

    <div class="rock-dates">
        <strong>Rock Duration:</strong> Jan 6, 2026 - Feb 3, 2026 (4 weeks)
    </div>

    <h2>What will be true when this rock is done:</h2>
    <ul>
        <li>2026 revenue targets are defined by product line and service offering</li>
        <li>Sales pipeline assumptions are documented and validated with historical data</li>
        <li>Quarterly revenue projections are complete with monthly breakdowns</li>
        <li>Forecast has been reviewed and approved by leadership team</li>
        <li>Forecast is loaded into financial planning/tracking system</li>
        <li>Sales team has reviewed targets and confirmed buy-in</li>
    </ul>

    <h2>Milestones:</h2>
    <div id="milestones-container"></div>

    <div class="actions">
        <button class="btn btn-primary" onclick="downloadMarkdown()">Download Markdown</button>
        <button class="btn btn-secondary" onclick="copyMarkdown()">Copy to Clipboard</button>
    </div>

    <script>
        // Milestone data
        let milestones = [
            { text: "Historical sales data (2024-2025) compiled and analyzed", date: "2026-01-08" },
            { text: "Current pipeline reviewed and opportunities qualified", date: "2026-01-09" },
            { text: "Market trends and competitive landscape assessed", date: "2026-01-10" },
            { text: "Revenue assumptions and growth rates documented", date: "2026-01-14" },
            { text: "Draft forecast by product/service line complete", date: "2026-01-16" },
            { text: "Quarterly and monthly projections finalized", date: "2026-01-17" },
            { text: "Leadership team review meeting completed", date: "2026-01-21" },
            { text: "Sales team review and feedback incorporated", date: "2026-01-23" },
            { text: "Final forecast approved by leadership", date: "2026-01-24" },
            { text: "Forecast loaded into financial tracking system", date: "2026-01-28" },
            { text: "Sales targets communicated to team", date: "2026-01-30" },
            { text: "Sales kickoff meeting with forecast review", date: "2026-02-03" }
        ];

        function formatDate(dateStr) {
            if (!dateStr) return '';
            const date = new Date(dateStr + 'T00:00:00');
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function sortMilestones() {
            milestones.sort((a, b) => new Date(a.date) - new Date(b.date));
        }

        function renderMilestones() {
            const container = document.getElementById('milestones-container');
            container.innerHTML = '';

            milestones.forEach((m, index) => {
                const div = document.createElement('div');
                div.className = 'milestone';
                div.innerHTML = `
                    <span class="milestone-num">${index + 1}.</span>
                    <span class="milestone-text">${m.text}</span>
                    <input type="date" class="date-picker" value="${m.date}" data-index="${index}">
                `;
                container.appendChild(div);
            });

            // Add change listeners
            container.querySelectorAll('.date-picker').forEach(input => {
                input.addEventListener('change', handleDateChange);
            });
        }

        function handleDateChange(e) {
            const index = parseInt(e.target.dataset.index);
            milestones[index].date = e.target.value;
            sortMilestones();
            renderMilestones();
        }

        function generateMarkdown() {
            const title = document.querySelector('h1').textContent;
            const owner = document.getElementById('owner-name').textContent;

            let md = `# ${title}\n\n`;
            md += `**Owner:** ${owner}\n\n`;
            md += `## What will be true when this rock is done:\n\n`;

            document.querySelectorAll('ul li').forEach(li => {
                md += `- ${li.textContent}\n`;
            });
            md += '\n';

            md += `## Milestones:\n\n`;

            milestones.forEach((m, index) => {
                const dateFormatted = formatDate(m.date);
                md += `${index + 1}. ${m.text} *(${dateFormatted})*\n`;
            });

            return md;
        }

        function downloadMarkdown() {
            const md = generateMarkdown();
            const filename = 'develop_2026_sales_forecast_rock.md';

            const blob = new Blob([md], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function copyMarkdown() {
            const md = generateMarkdown();
            navigator.clipboard.writeText(md).then(() => {
                const btn = document.querySelector('.btn-secondary');
                const original = btn.textContent;
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = original, 2000);
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            sortMilestones();
            renderMilestones();
        });
    </script>
</body>
</html>
